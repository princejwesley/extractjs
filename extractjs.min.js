/*!The MIT License (MIT)

Copyright (c) 2015 Prince John Wesley (princejohnwesley@gmail.com)
**/!function(t,r){"use strict";"function"==typeof define&&define.amd?define(["exports"],r):"undefined"!=typeof exports?module.exports=r():t.extractjs=r()}(this,function(t){"use strict";function r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(t,r){t.startExtract=r.startExtract&&r.startExtract.length?r.startExtract:i.startExtract,t.endExtract=r.endExtract&&r.endExtract.length?r.endExtract:i.endExtract,t.initValue=r.initValue}function e(t){var r,n={};for(r in t)n[r]=t[r];return n}function a(t,a,c){function u(n){var e,a,i=t,c=r(E.endExtract),u=r(E.startExtract);for(e in n)p.hasOwnProperty(e)&&(a=new RegExp(u+"\\s*"+r(e)+"\\s*"+c),i=i.replace(a,n[e]));for(e in p)a=new RegExp(u+r(e)+c),i=i.replace(a,E.initValue);return i}function s(t){e(p);if(!t||"string"!=typeof t)return p;if(f=t.match(l)){f.shift();for(o in d)x=f[o],p[d[o]]=+x?+x:x}return p}if("string"!=typeof t)throw"Expected string template, Found "+typeof t;var f,o,x,p={},E={},d=[],l="",g=0;n(E,c||i);var h=new RegExp(r(E.startExtract)+"(.*?)"+r(E.endExtract),"g");return t.replace(h,function(t,n,e,a){return n=n.trim(),""!==n&&(p[n]=E.initValue,d.push(n)),l+=r(a.substring(g,e)),g=e+t.length,""===n?"":(l+="(.*?)",e+t.length!==a.length?"":(l+="$",""))}),g<t.length&&(l+=r(t.substring(g))),a&&"string"==typeof a?s(a):{extract:s,bind:u,interpolate:u}}var i={startExtract:"{",endExtract:"}",initValue:t};return function(t){return t&&n(i,t),a}});