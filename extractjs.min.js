/*!The MIT License (MIT)

Copyright (c) 2015 Prince John Wesley (princejohnwesley@gmail.com)
**/!function(t,r){"use strict";"function"==typeof define&&define.amd?define(["exports"],r):"undefined"!=typeof exports?module.exports=r():t.extractjs=r()}(this,function(t){"use strict";function r(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function e(t,r){t.startExtract=r.startExtract&&r.startExtract.length?r.startExtract:i.startExtract,t.endExtract=r.endExtract&&r.endExtract.length?r.endExtract:i.endExtract,t.initValue=r.initValue}function n(t){var r,e={};for(r in t)e[r]=t[r];return e}function a(t,a,c){function u(e){var n,a,i=t,c=r(E.endExtract),u=r(E.startExtract);for(n in e)p.hasOwnProperty(n)&&(a=new RegExp(u+r(n)+c),i=i.replace(a,e[n]));for(n in p)a=new RegExp(u+r(n)+c),i=i.replace(a,E.initValue);return i}function f(t){n(p);if(!t||"string"!=typeof t)return p;if(o=t.match(g)){o.shift();for(x in d)s=o[x],p[d[x]]=+s?+s:s}return p}if("string"!=typeof t)throw"Expected string template, Found "+typeof t;var o,x,s,p={},E={},d=[];e(E,c||i);var l=new RegExp(r(E.startExtract)+"(.*?)"+r(E.endExtract),"g"),g=t.replace(l,function(t,r,e,n){return""!==r&&(p[r]=E.initValue,d.push(r)),""===r?"":e+t.length===n.length?"(.*?)$":"(.*?)"});return a&&"string"==typeof a?f(a):{extract:f,bind:u,interpolate:u}}var i={startExtract:"{",endExtract:"}",initValue:t};return function(t){return t&&e(i,t),a}});