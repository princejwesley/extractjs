/*!The MIT License (MIT)

Copyright (c) 2015 Prince John Wesley (princejohnwesley@gmail.com)
**/!function(t,e){"use strict";"function"==typeof define&&define.amd?define(["exports"],e):"undefined"!=typeof exports?module.exports=e():t.extractjs=e()}(this,function(t){"use strict";function e(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(t,e){t.startExtract=e.startExtract&&e.startExtract.length?e.startExtract:a.startExtract,t.endExtract=e.endExtract&&e.endExtract.length?e.endExtract:a.endExtract,t.initValue=e.initValue}function r(t,r,i){function c(t){if(!t||"string"!=typeof t)return s;if(u=t.match(p)){u.shift();for(f in d)o=u[f],s[d[f]]=+o?+o:o}return s}if("string"!=typeof t)throw"Expected string template, Found "+typeof t;var u,f,o,s={},x={},d=[];n(x,i||a);var E=new RegExp(e(x.startExtract)+"(.*?)"+e(x.endExtract),"g"),p=t.replace(E,function(t,e,n,r){return""!==e&&(s[e]=x.initValue,d.push(e)),""===e?"":n+t.length===r.length?"(.*?)$":"(.*?)"});return r&&"string"==typeof r?c(r):c}var a={startExtract:"{",endExtract:"}",initValue:t};return function(t){return t&&n(a,t),r}});